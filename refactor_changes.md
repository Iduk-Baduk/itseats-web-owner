# POS API 리팩토링

## 개요
POS API 관련 코드의 안정성과 유지보수성을 향상시키기 위한 리팩토링을 진행했습니다.

## 주요 변경사항

### 1. 타임스탬프 처리 개선
- UTC 기반의 일관된 타임스탬프 처리 로직 구현
- 비표준 시간대 표기(예: 'NZ') 처리 로직 추가
- 유효하지 않은 타임스탬프에 대한 방어 로직 추가
- 타임스탬프 정규화를 위한 마이그레이션 스크립트 추가

### 2. POS 상태 관리 개선
- 상태 변경 시 자동 알림 생성 기능 추가
- 상태 변경 이력 관리 로직 개선
- 상태 변경 시 메타데이터 처리 강화
- 누락된 필드에 대한 기본값 처리 추가

### 3. 자동화 기능 개선
- UTC 시간 기반의 자동 상태 변경 로직 개선
- 스케줄링 안정성 강화
- 에러 처리 및 복구 로직 추가
- 자동화 설정 관리 기능 강화

### 4. 코드 구조화
- API 메서드 모듈화
- 일관된 에러 처리 패턴 적용
- 중복 코드 제거
- 테스트 가능성 향상을 위한 구조 개선

## 테스트
- PosStatusHistory 컴포넌트 테스트 추가
- 타임스탬프 처리 유닛 테스트 추가
- 자동화 스케줄러 테스트 개선

## 영향 받는 컴포넌트
- PosStatusHistory
- PosStatusControl
- PosAutoSettings
- PosNotificationCenter

## 주의사항
1. 기존 타임스탬프는 자동으로 정규화되지만, 데이터 백업을 권장합니다
2. 자동화 설정은 UTC 시간 기준으로 동작하므로 시간대 설정에 주의가 필요합니다
3. 알림 시스템 변경으로 기존 알림 데이터가 마이그레이션됩니다

## 관련 이슈
- 타임스탬프 정규화 이슈
- POS 상태 변경 알림 개선
- 자동화 스케줄러 안정성 향상 
